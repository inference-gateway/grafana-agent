---
apiVersion: ctlptl.dev/v1alpha1
kind: Cluster
name: k3d-grafana-agent
product: k3d
registry: k3d-grafana-agent-registry
k3d:
  v1alpha5Simple:
    image: docker.io/rancher/k3s:v1.34.1-k3s1
    servers: 1
    agents: 2
    ports:
      # Grafana UI
      - port: 3000:30000
        nodeFilters:
          - server:0
      # Prometheus UI
      - port: 9090:30090
        nodeFilters:
          - server:0
      # Demo Service
      - port: 8082:30082
        nodeFilters:
          - server:0
      # Grafana Agent API
      - port: 8080:30080
        nodeFilters:
          - server:0
